(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fd221f2a"],{"5b37":function(t,i,e){"use strict";var n=e("a0ea"),a=e.n(n);a.a},a0ea:function(t,i,e){},bb51:function(t,i,e){"use strict";e.r(i);var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("div",{staticStyle:{display:"flex"}},[e("canvas",{ref:"canv",on:{mousedown:function(i){return t.dragMove(i)},click:function(i){return t.pickColor(i)}}})]),e("div",{staticClass:"current-color"},[e("div",{staticStyle:{float:"left","line-height":"30px","margin-right":"30px"}},[e("span",{staticStyle:{"margin-right":"10px"}},[t._v("RGBA MODE")]),e("i-Switch",{model:{value:t.mode,callback:function(i){t.mode=i},expression:"mode"}})],1),e("div",{staticStyle:{float:"left","margin-right":"10px"}},[e("Upload",{attrs:{name:"pic",action:"","before-upload":t.handleUpload,"show-upload-list":!1}},[e("Button",{attrs:{type:"dashed",icon:"ios-cloud-upload-outline"}},[t._v("上传图片")])],1)],1),e("div",{staticStyle:{float:"left"}},[e("ButtonGroup",[e("Button",{attrs:{icon:"logo-github",to:"//github.com/pumelotea/color-picker",target:"_blank"}},[t._v("Star")]),e("Button",{attrs:{to:"//squirrelzoo.com",target:"_blank"}},[t._v("关注我们【松鼠乐园】")]),e("Button",{attrs:{to:"//github.com/pumelotea/color-picker/tree/"+t.$window.buildRepoVer.split(":")[1].trim(),target:"_blank"}},[t._v("Version: "+t._s(t.$window.buildVer))])],1)],1)]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.willCopy,expression:"willCopy"}],ref:"willCopy",staticStyle:{position:"fixed",left:"-100vw"},attrs:{type:"text"},domProps:{value:t.willCopy},on:{input:function(i){i.target.composing||(t.willCopy=i.target.value)}}}),e("div",{staticClass:"color-list"},t._l(t.colorList,function(i){return e("div",{staticStyle:{display:"flex",padding:"4px"}},[e("div",{staticClass:"picker-box",style:"background:"+i,on:{click:function(e){e.stopPropagation(),t.copy(e,t.mode?i:t.rgb2hex(i))}}},[t._v("\n        "+t._s(t.mode?i:t.rgb2hex(i))+"\n      ")])])}),0)])},a=[],o={data:function(){return{mode:!1,image:null,context:null,canvas:null,colorList:[],willCopy:"",currentScale:1,imgX:0,imgY:0,shadowImgX:0,shadowImgY:0,isDragging:!1}},methods:{handleUpload:function(t){var i=this,e=URL.createObjectURL(t);return this.image=new Image,this.image.src=e,this.image.onload=function(){var t=1;this.width>this.height?this.width>i.canvas.width&&(t=i.canvas.width/this.width):this.height>i.canvas.height&&(t=i.canvas.height/this.height),i.currentScale=t,i.draw()},!1},draw:function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.drawGrid(this.context,"#b6cbff",20,20),this.context.drawImage(this.image,0,0,this.image.width,this.image.height,this.imgX,this.imgY,this.image.width*this.currentScale,this.image.height*this.currentScale)},windowToCanvas:function(t,i){var e=this.canvas.getBoundingClientRect();return{x:2*(t-e.left-(e.width-this.canvas.width/2)/2),y:2*(i-e.top-(e.height-this.canvas.height/2)/2)}},dragMove:function(t){if(this.image){this.shadowImgX=this.imgX,this.shadowImgY=this.imgY;var i=this,e=i.windowToCanvas(t.clientX,t.clientY);this.canvas.onmousemove=function(t){var n=i.windowToCanvas(t.clientX,t.clientY),a=n.x-e.x,o=n.y-e.y;e=n,i.imgX+=a,i.imgY+=o,i.draw()},this.canvas.onmouseup=function(){i.canvas.onmousemove=null,i.canvas.onmouseup=null}}},drawGrid:function(t,i,e,n){t.strokeStyle=i,t.lineWidth=.5;for(var a=e+.5;a<t.canvas.width;a+=e)t.beginPath(),t.moveTo(a,0),t.lineTo(a,t.canvas.height),t.stroke();for(var o=n+.5;o<t.canvas.height;o+=n)t.beginPath(),t.moveTo(0,o),t.lineTo(t.canvas.width,o),t.stroke()},copy:function(t,i){var e=this;this.willCopy=i,this.$nextTick(function(){e.$refs.willCopy.select(),document.execCommand("Copy"),e.$Message.info("Copied")})},getColor:function(t){return"rgba(".concat(t[0],",").concat(t[1],",").concat(t[2],",").concat(t[3]/255,")")},pickColor:function(t){if(this.shadowImgX===this.imgX&&this.shadowImgY===this.imgY){var i=this.windowToCanvas(t.clientX,t.clientY),e=this.context.getImageData(i.x,i.y,1,1).data;this.colorList.unshift(this.getColor(e))}},zero_fill_hex:function(t,i){var e=t.toString(16);while(e.length<i)e="0"+e;return e},rgb2hex:function(t){if("#"===t.charAt(0))return t;var i=t.split(/\D+/),e=65536*Number(i[1])+256*Number(i[2])+Number(i[3]);return"#"+this.zero_fill_hex(e,6)}},mounted:function(){var t=this;this.canvas=this.$refs.canv,this.canvas.width=2*(document.documentElement.clientWidth-50),this.canvas.style.width=document.documentElement.clientWidth-50+"px",this.canvas.height=1200,this.canvas.style.height="600px",this.context=this.canvas.getContext("2d"),this.canvas.onmousewheel=this.canvas.onwheel=function(i){var e=t.windowToCanvas(i.clientX,i.clientY),n=i.wheelDelta?i.wheelDelta:-40*i.deltaY;n>0?(t.currentScale*=2,t.imgX=2*t.imgX-e.x,t.imgY=2*t.imgY-e.y):(t.currentScale/=2,t.imgX=.5*t.imgX+.5*e.x,t.imgY=.5*t.imgY+.5*e.y),t.draw()}}},s=o,c=(e("5b37"),e("2877")),l=Object(c["a"])(s,n,a,!1,null,"732b50da",null);i["default"]=l.exports}}]);